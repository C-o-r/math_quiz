<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math Quiz</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }
        #result {
            font-weight: bold;
            margin-top: 10px;
        }
        .correct {
            color: green;
        }
        .incorrect {
            color: red;
        }
    </style>
</head>
<body>
    <h1>Math Quiz</h1>
    <form id="quizForm">
        <div id="questions">
            <!-- Questions will be generated here -->
        </div>
        <input type="submit" value="Check Answers">
    </form>
    <div id="result"></div>

    <script>
        document.getElementById('quizForm').addEventListener('submit', function(event) {
            event.preventDefault();
            var userAnswers = [];
            var correctAnswers = [];
            var resultDiv = document.getElementById('result');
            resultDiv.innerHTML = '';

            // Get user answers
            for (var i = 0; i < 31; i++) {
                var userAnswer = document.getElementById('answer' + i).value.toLowerCase().trim();
                userAnswers.push(userAnswer);
            }

            // Check answers
            var sections = [
                { startIndex: 0, endIndex: 15, correctPoints: 1, incorrectPoints: -3, blankPoints: -2 },
                { startIndex: 15, endIndex: 25, correctPoints: 2, incorrectPoints: -1, blankPoints: -1 },
                { startIndex: 25, endIndex: 31, correctPoints: 2, incorrectPoints: -2, blankPoints: -1 }
            ];

            var totalScore = 0;
            var correctQuestions = [];
            var incorrectQuestions = [];

            for (var i = 0; i < sections.length; i++) {
                var section = sections[i];
                var sectionScore = 0;

                for (var j = section.startIndex; j < section.endIndex; j++) {
                    var userAnswer = userAnswers[j];
                    var correctAnswer = document.getElementById('question' + j).getAttribute('data-answer').toLowerCase().trim();

                    if (userAnswer === correctAnswer) {
                        sectionScore += section.correctPoints;
                        correctQuestions.push('Question ' + (j + 1));
                    } else if (userAnswer === '') {
                        sectionScore += section.blankPoints;
                    } else {
                        sectionScore += section.incorrectPoints;
                        incorrectQuestions.push('Question ' + (j + 1));
                    }
                }

                totalScore += sectionScore;
            }

            var totalResultDiv = document.createElement('div');
            totalResultDiv.textContent = `Total Score: ${totalScore} points`;
            resultDiv.appendChild(totalResultDiv);

            var correctResultDiv = document.createElement('div');
            correctResultDiv.textContent = `Correct Answers: ${correctQuestions.join(', ')}`;
            correctResultDiv.classList.add('correct');
            resultDiv.appendChild(correctResultDiv);

            var incorrectResultDiv = document.createElement('div');
            incorrectResultDiv.textContent = `Incorrect Answers: ${incorrectQuestions.join(', ')}`;
            incorrectResultDiv.classList.add('incorrect');
            resultDiv.appendChild(incorrectResultDiv);
        });

        // Timer
        var timeLeft = 600; // 10 minutes in seconds
        var countdown = setInterval(function() {
            var minutes = Math.floor(timeLeft / 60);
            var seconds = timeLeft % 60;

            if (timeLeft <= 0) {
                clearInterval(countdown);
                document.getElementById('quizForm').submit();
            } else {
                document.getElementById('timer').textContent = minutes + "m " + seconds + "s";
            }
            timeLeft--;
        }, 1000);

        // Generate questions
        document.addEventListener('DOMContentLoaded', function() {
            var questionsDiv = document.getElementById('questions');
            var questions = [
                // Section 1: Computation of Real Numbers
                "7 x 18 =", "54 / 8 =", "158 + 43 =", "48 + 131 =", "23 + 87 =", 
                "65 / 5 =", "77 - 18 =", "117 - 36 =", "81 x 3 =", "4 x 8 =", 
                "22 x 8 =", "- 137 - 42 =", "114 / 3 =", "49 / 7 =", "63 - 23 =",
                // Section 2: Computation of Decimal Numbers
                "0.3 x 0.45 =", "5.6 / 0.35 =", "8.25 * 8 =", "-4.333 + 2.212 =", "64 * 0.125 =", 
                "88.35 * 0.5 =", "0.8 - 0.08 =", "25 / 0.4 =", "0.48 / 1.6 =", "70 * 1.03 =", 
                "1348 + 7895 =", "56.24 + 1.447 =", "12.07 - 8.18 =",
                // Section 3: Multiplication of Decimal Numbers
                "786.3 * 1.03 =", "30 * 5000 =", "78 * 51 =", "131 * 75 =", "161 * 121 =", 
                "915 * 50 =", "808.88", "150000", "4289", "8825", "20681", 
                "45750", "722.7", "15000", "4978", "161 * 121 =", "915 * 50 ="
            ];

            for (var i = 0; i < questions.length; i++) {
                var questionDiv = document.createElement('div');
                var question = questions[i];
                var answerId = 'answer' + i;
                questionDiv.innerHTML = `<label for="${answerId}">${question}</label> <input type="text" id="${answerId}" required><br>`;
                questionDiv.setAttribute('id', 'question' + i);
                questionDiv.setAttribute('data-answer', question.split('=')[1].trim().toLowerCase());
                questionsDiv.appendChild(questionDiv);
            }
        });
    </script>
    <div id="timer">10m 0s</div>
</body>
</html>
